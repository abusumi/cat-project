<div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
  <h1 class="text-2xl font-bold text-gray-800 mb-4 text-center">詳細ページ</h1>
  
  <p class="text-lg font-semibold text-gray-700 text-center"><%= @food.brand.name %></p>
  <p class="text-xl font-bold text-gray-900 text-center mb-2"><%= @food.name %></p>

  <div class="mb-4 flex justify-center">
    <%= render 'bookmark_buttons', { food: @food } %>
  </div>

  <p class="text-center mb-2">
    <%= link_to "商品リンク", safe_external_url(@food.external_url), class: "text-blue-500 hover:underline", target: "_blank", rel: "noopener" %>
  </p>

  <div class="flex justify-center space-x-3 mb-4">
    <%= link_to "みんなのレビュー", food_reviews_path(@food.id), class: "px-4 py-2 font-semibold text-white bg-blue-500 rounded-md hover:bg-blue-600" %>
    <%= link_to "レビュー投稿", new_food_review_path(@food.id), class: "px-4 py-2 font-semibold text-white bg-green-500 rounded-md hover:bg-green-600" %>
  </div>

  <%= link_to "フード一覧へ戻る", brands_path, class: "block text-center px-4 py-2 font-semibold text-white bg-gray-500 rounded-md hover:bg-gray-600 mb-6" %>

  <div class="flex flex-col items-center">
    <div class="flex">
      <% 5.times do |i| %>
        <% if i < @average_rating.to_i %>
          <svg class="w-5 h-5 text-yellow-400 mx-0.5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
            <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
          </svg>
        <% else %>
          <svg class="w-5 h-5 text-gray-300 mx-0.5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
            <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
          </svg>
        <% end %>
      <% end %>
    </div>
    <p class="text-sm font-medium text-gray-600 mt-1"><%= @average_rating %> / 5</p>
    <p class="text-sm font-medium text-gray-500"><%= @total_reviews %> 件の評価</p>
  </div>

  <% @rating_percentage.each do |star, percentage| %>
    <div class="flex items-center mt-3">
      <span class="text-sm font-medium text-gray-700 w-10 text-right"><%= star %>★</span>
      <div class="w-2/4 h-5 mx-4 bg-gray-200 rounded overflow-hidden">
        <div class="h-full bg-yellow-400" style="width: <%= percentage %>%"></div>
      </div>
      <span class="text-sm font-medium text-gray-600"><%= percentage %>%</span>
    </div>
  <% end %>
</div>
